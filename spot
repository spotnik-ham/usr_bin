#!/bin/bash
# MENU DE SELECTION POUR Spotnik-2.0
#
#  F5NLG  17/07/2019
#

while : ; do

choix=$(whiptail --title "Spotnik Menu 2.0"  --menu "                    >> Make your Choice: " 33 69 26 \
1 " Restart Spotnik on Stand Alone '95'" \
2 " Restart Spotnik on RRF '96'" \
3 " Restart Spotnik on FON Room '97'" \
4 " Restart Spotnik on TEC Room '98'" \
5 " Restart Spotnik on INT Room '99'" \
6 " Restart Spotnik on BAV Room '100'" \
7 " Restart Spotnik on LOC Room '101'" \
8 " Restart Spotnik on SAT Room '102'" \
9 " Restart Spotnik on EchoLink '103'" \
10 " See Spotnik working (Logs) 'ctrl c'to leave" \
11 " Configure Wifi or network" \
12 " Trim Sound Alsamixer" \
13 " Edit Svxlink.cfg for all reflectors" \
14 " Edit Svxlink.echo for EchoLink." \
15 " Edit ModuleEchoLink.conf" \
16 " Edit Airport for meteo" \
17 " MC Midnight Commander" \
18 " Configure mail account for Propagation Monitor" \
19 " Configure SA818 Radio Spotnik Delta only " \
20 " Edit HAMNET acount " \
21 " Edit HAMNET login & password " \
22 " Reboot '1000'"  3>&1 1>&2 2>&3)

exitstatus=$?

#on recupere ce choix
#exitstatus=$?
if [ $exitstatus = 0 ]; then
    echo "Your chosen option:" $choix
else
    echo "You chose Cancel."; break;
fi



# case : action en fonction du choix

case $choix in

1)
/etc/spotnik/restart.default ;;

2)
/etc/spotnik/restart.rrf ;;

3)
/etc/spotnik/restart.fon ;;

4)
/etc/spotnik/restart.tec ;;

5)
/etc/spotnik/restart.int ;;

6)
/etc/spotnik/restart.bav ;;

7)
/etc/spotnik/restart.loc ;;

8)
/etc/spotnik/restart.sat ;;

9)
/etc/spotnik/restart.el ;;

10)
/etc/spotnik/view_svx ;;

11)
nmtui ;;

12)
alsamixer && alsactl store ;;

13)
mcedit /etc/spotnik/svxlink.cfg ;;

14)
mcedit /etc/spotnik/svxlink.echo ;;

15)
mcedit /etc/spotnik/svxlink.d/ModuleEchoLink.conf ;;

16)
mcedit /etc/spotnik/svxlink.d/ModuleMetarInfo.conf ;;

17)
mc /etc/spotnik ;;

18)
fetchsetup ;;

19)
818-prog ;;

20)
mcedit /etc/ppp/peers/hamnet ;;

21)
mcedit /etc/ppp/chap-secrets ;;

22)
reboot

esac

done
exit 0
